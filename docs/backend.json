{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user account in the Delhi Estate Luxe application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user entity."
        },
        "firstName": {
          "type": "string",
          "description": "The user's first name."
        },
        "lastName": {
          "type": "string",
          "description": "The user's last name."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "The user's phone number."
        },
        "dateJoined": {
          "type": "string",
          "description": "The date and time the user joined the platform.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email",
        "phone",
        "dateJoined"
      ]
    },
    "Property": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Property",
      "type": "object",
      "description": "Represents a property listed on the Delhi Estate Luxe application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the property entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Property)"
        },
        "title": {
          "type": "string",
          "description": "The title of the property listing."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the property."
        },
        "price": {
          "type": "number",
          "description": "The price of the property."
        },
        "listingType": {
          "type": "string",
          "description": "Whether the property is for sale or for rent.",
          "enum": ["sale", "rent"]
        },
        "location": {
          "type": "string",
          "description": "The address or location of the property."
        },
        "propertyType": {
          "type": "string",
          "description": "The type of property (e.g., apartment, house, villa)."
        },
        "bedrooms": {
          "type": "number",
          "description": "The number of bedrooms in the property."
        },
        "bathrooms": {
          "type": "number",
          "description": "The number of bathrooms in the property."
        },
        "squareFootage": {
          "type": "number",
          "description": "The square footage of the property."
        },
        "amenities": {
          "type": "array",
          "description": "A list of amenities offered by the property.",
          "items": {
            "type": "string"
          }
        },
        "imageUrls": {
          "type": "array",
          "description": "A list of URLs pointing to images of the property.",
          "items": {
            "type": "string"
          }
        },
        "isFeatured": {
          "type": "boolean",
          "description": "Indicates whether the property is featured."
        },
        "dateListed": {
          "type": "string",
          "description": "The date the property was listed.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "title",
        "description",
        "price",
        "listingType",
        "location",
        "propertyType",
        "bedrooms",
        "bathrooms",
        "squareFootage",
        "dateListed"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profiles. Only the authenticated user can read/write their own profile.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier for the user."
            }
          ]
        }
      },
      {
        "path": "/properties/{propertyId}",
        "definition": {
            "entityName": "Property",
            "schema": {
                "$ref": "#/backend/entities/Property"
            },
            "description": "Public collection of all property listings. Anyone can read, but only the property owner can modify their own listings.",
            "params": [
                {
                    "name": "propertyId",
                    "description": "The unique identifier for the property."
                }
            ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed for a public property marketplace. User profiles are private, stored under '/users/{userId}'. Properties are stored in a top-level '/properties' collection, making them publicly readable for listings. Security rules ensure that while anyone can view properties, only the authenticated owner (verified via the 'userId' field in the property document) can create, update, or delete their own listings. This separation maintains user privacy while allowing for a public, searchable property database."
  }
}